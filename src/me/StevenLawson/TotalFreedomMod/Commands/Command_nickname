package me.StevenLawson.TotalFreedomMod.Commands;

import me.StevenLawson.TotalFreedomMod.TFM_AdminList;
import me.StevenLawson.TotalFreedomMod.Bridge.TFM_EssentialsBridge;

import org.bukkit.ChatColor;
import org.bukkit.command.Command;
import org.bukkit.command.CommandSender;
import org.bukkit.entity.Player;

@CommandPermissions(level = AdminLevel.ALL, source = SourceType.BOTH)
@CommandParameters(description = "Some description here", usage = "/<command>")
public class Command_nickname extends TFM_Command{
	@Override
	public boolean run(CommandSender sender, Player sender_p, Command cmd, String commandLabel, String[] args, boolean senderIsConsole){
		if(sender.isOp() &&  args.length == 1){
			TFM_EssentialsBridge.setNickname(sender.getName(), args[0]);
			sender.sendMessage(ChatColor.GREEN+"Nickname Set: " + args[0]);
			}else if(TFM_AdminList.isSuperAdmin(sender)  && args[0].equalsIgnoreCase("remove")){
			String user = args[1];
			TFM_EssentialsBridge.setNickname(user, user);
	sender.sendMessage(ChatColor.GREEN+"Nickname Removed for: "+ args[1]);
	} else{
		if(sender.isOp() && TFM_AdminList.isSuperAdmin(sender) == false){
			sender.sendMessage(ChatColor.YELLOW+"Correct Usage: /nickname <nickname>");
		}
		if(TFM_AdminList.isSuperAdmin(sender)){
			sender.sendMessage(ChatColor.YELLOW+"Correct Usage: /nickname <nickname/remove> <username>");
		}
	}
		return true;
    }
}
